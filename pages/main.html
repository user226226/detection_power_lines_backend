<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/styles/main.css">
    <title>Обнаружение объектов ЛЭП</title>
  </head>
  <body>
    <div class="text-center">
        <h1 class="mb-3">Обнаружение объектов ЛЭП</h1>
    </div>

    <div class="flex-container">
      <!-- <div> -->
          <!-- <div class="img"> -->
              <!-- <img id="input" width="200"/> -->
          <!-- </div> -->
<!--           
          <input type="file" accept="image/*" onchange="loadFile(event)">
      </div> -->
      <form method="post"></form>
      <img id="input" width="200"/>
      <input type="file" accept="image/*" onchange="loadFile(event)", enctype="multipart/form-data">
      <input type="button" value="Upload Image" onclick="uploadFile(event)">
    </div>
    <!-- <div style="text-align:center">
      <button>Найти ЛЭП</button>
    </div> -->
    

    <script>
        var img;
        var loadFile = function(event) {
            var image = document.getElementById('input');
            img = event.target.files[0]
            image.src=URL.createObjectURL(img);
        };

        var uploadFile = function(event) {
          var formData = new FormData();
          formData.append('file', img);
            fetch('/image', {
              method: 'POST',
              body: formData,
            })
            .then(response => {
              console.log(response);
            })
            .catch(error => {
              console.error(error);
            });
      }
    </script>
  </body>
</html>